# 🎮 React BlockDropGame Game

React + Vite + TypeScript 기반으로 제작한 **오리지널 블록 드롭 퍼즐 게임**입니다.  
클래식 테트리스가 아닌, **N×N 랜덤 블록 + TGM 스타일 속도 곡선 + 레벨/점수 시스템**을 가진 연습/포트폴리오용 BlockDrop 프로젝트입니다.

---

## 🚀 데모 링크

👉 **[BlockDropGame 플레이하기](https://block-drop-games.vercel.app/)**  
(브라우저에서 바로 실행 가능합니다)

---

## 📌 주요 기능

### 🎮 게임 플레이

- 좌우 이동 / 회전 / 한 칸 내리기
- **하드드롭 (Space)**
- 다음 블록(Next Piece) 미리보기
- 줄 완성 시 자동 삭제
- 게임 오버 감지

---

### 🧩 블록 규칙 & 랜덤 생성

- **테트리스 IP를 회피하기 위한 오리지널 블록 시스템**
- 한 판 시작 시:

  - `SHAPE_TYPE_COUNT` 개수만큼 **서로 다른 랜덤 블록 모양**을 생성
  - 각 블록은 `N×N`(정사각형) 형태이며, N 범위는 설정값으로 제어
  - 각 블록 내부의 칸 수(채워진 블록 수)도 최소/최대 범위 안에서 랜덤 생성

- 생성된 블록은:

  - **연결 그래프 형태**로만 생성 (한 덩어리)
  - 회전/정규화했을 때 **클래식 테트로미노 7종과 일치하는 패턴은 자동 제외**

- 이렇게 만들어진 블록 세트는 **해당 판 전체 동안 유지**되며,
  - 같은 타입의 블록은 언제나 같은 모양으로 등장

> 즉, 매 플레이마다 “이번 판만의 블록 셋”이 생성되지만,  
> 게임을 시작한 뒤에는 그 셋이 고정되어 안정적인 패턴 학습이 가능합니다.

---

### 🔍 이번 판 블록 셋 시각화 패널

- 화면 레이아웃은 다음과 같이 3분할입니다.

  ```text
  [1] 이번 판 블록 목록 패널
  [2] 메인 게임 보드
  [3] 점수 / 다음 블록 / 조작법 패널
  ```

  이 중 **[1] 이번 판 블록 목록 패널**은 이번 프로젝트의 핵심 기능 중 하나입니다.

---

### 🧱 PrototypePanel – 이번 판 블록을 한눈에 확인

이 패널은 **해당 판에서 등장할 수 있는 모든 블록 모양을 미니맵 형태로 시각화**합니다.

- 게임 시작 시 `SHAPE_TYPE_COUNT` 개수만큼 생성된 랜덤 블록 프로토타입을 그대로 표시
- 각 블록은 다음 정보로 구성됩니다:

  - **타입 번호(#1, #2, #3 …)**
  - **블록 모양 미리보기(최소화된 Grid 렌더링)**

- 배치 방식은 세로(column) 방식이며,

  - ```bash

    [#번호] [미니 블록 이미지]
    [#번호] [미니 블록 이미지]
    ...

    ```

  - 형태로 나란히 정렬됩니다.

이 구성 덕분에 플레이어는:

- 이번 판에서 **어떤 블록들이 등장하는지 즉시 파악**
- 각 블록의 **형태·비율·회전 시 외형**을 미리 익힐 수 있고
- 플레이 중 등장한 블록이 **프로토타입 중 몇 번 타입인지 바로 식별**

할 수 있습니다.

---

### 🎯 왜 중요한가?

전통적인 테트리스 계열은 **블록 구조가 고정**되어 있지만,  
이 BlockDropGame은 **플레이마다 완전히 새로운 블록 세트가 생성**됩니다.

PrototypePanel은 그 차이를 직관적으로 보완해 줍니다.

- “이번 판은 어떤 모양의 블록들인가?”
- “각 모양이 얼마나 길고, 얼마나 복잡한가?”
- “회전하면 어떤 패턴으로 변하는가?”

등을 사전에 확인함으로써,

> **게임 중 갑작스럽게 낯선 형태가 나와도 적응할 시간을 줄이고  
> 전략적 판단을 돕기 위한 핵심 UX 요소**로 작동합니다.

---

### ⚡ 난이도 시스템

- **무한 레벨 시스템**
- 클리어한 줄 수에 따라 자동 레벨 상승  
  → `5줄 클리어 = +1 레벨`
- **TGM 스타일 속도 곡선**을 참고한 낙하 속도 테이블 적용
- 속도 테이블을 넘어선 레벨에서는 **최대 낙하 속도 유지**

### 💯 점수 시스템

- 줄 × 레벨 기반 점수 공식 적용
- 기본 점수 (레벨 적용 전):

  - 1줄: +100
  - 2줄: +300
  - 3줄: +500
  - 4줄(BlockDrop 계열 기준): +800

- 실제 반영 점수:

  ```text

  최종 점수 = 기본 점수 × 현재 레벨

  레벨이 높을수록 같은 줄을 지워도 더 많은 점수를 획득

  ```

### 🎨 색상 시스템

- **매 판 시작 시 블록 타입 개수만큼 랜덤 색상 팔레트 생성**

  - 각 타입마다 서로 다른 HSL 색상 지정
  - 너무 어둡거나 배경(#111)에 가까운 색은 피해서 시인성 확보

- 한 판이 진행되는 동안:

  - 같은 타입의 블록은 항상 같은 색을 유지
  - 플레이 도중 색상이 바뀌지 않음

### 🎉 UI / 시각화

- 블록 타입별 색상 반영
- 떨어지는 블록의 실시간 렌더링
- **레벨업 애니메이션 오버레이 표시**
- 좌측 보드 + 우측 패널 UI 구성

---

## 🛠 기술 스택

| 기술            | 설명                                |
| --------------- | ----------------------------------- |
| **React**       | UI 렌더링 및 게임 상태 처리         |
| **TypeScript**  | 정적 타입을 통한 안정성 확보        |
| **Vite**        | 고속 개발 서버 & 번들러             |
| **CSS Grid**    | BlockDrop 보드 표현                 |
| **React Hooks** | useState / useEffect / useMemo 활용 |

---

## 🧱 프로젝트 구조

```bash

src/
├── components/                # UI 컴포넌트 계층
│   ├── GameBoard.tsx         # 메인 게임 보드
│   ├── ScorePanel.tsx        # 점수 / 레벨 / GAME OVER / 재시작 버튼
│   ├── NextPiecePanel.tsx    # 다음 블록(Next Piece) 미리보기
│   ├── ControlsPanel.tsx     # 조작법 안내
│   ├── LevelUpOverlay.tsx    # 레벨업 애니메이션 오버레이
│   └── PrototypePanel.tsx    # 이번 판 블록 셋 시각화 패널
│
├── logic/                    # 게임 규칙 / 상태 처리 / 유틸
│   ├── constants.ts          # COLS, ROWS, SPEED_TABLE 등 공용 상수
│   ├── types.ts              # Board, Shape, Piece, PieceProto 타입 정의
│   ├── utils/
│   │   ├── board.ts          # 보드 생성 / 초기화 유틸
│   │   ├── collision.ts      # 충돌 판정 로직
│   │   ├── lines.ts          # 라인 클리어 및 점수 계산
│   │   ├── rotation.ts       # N×N 블록 회전 처리
│   │   └── shapeGenerator.ts # 랜덤 블록 생성 & 테트로미노 패턴 필터링
│   └── index.ts              # 상기 모듈 통합 export
│
├── styles/                   # 전역 스타일 계층
│   ├── App.css               # 하위 스타일 파일 import 엔트리
│   ├── layout.css            # .app, .game 레이아웃
│   ├── board.css             # .board, .cell, .filled
│   ├── sidePanels.css        # .side, .panel, .score, .btn 등
│   ├── nextPiece.css         # NextPiecePanel 전용 스타일
│   └── levelUp.css           # 레벨업 오버레이 애니메이션
│
├── App.tsx                   # 최상위 컨테이너, 상태 관리 & 컴포넌트 조립
└── main.tsx                  # React 엔트리 포인트


```

---

## 🎮 조작법

| 키        | 기능                       |
| --------- | -------------------------- |
| ← / →     | 좌우 이동                  |
| ↓         | 한 칸 내리기               |
| ↑         | 회전                       |
| **Space** | **하드드롭**               |
| (자동)    | 레벨에 따른 낙하 속도 증가 |

---

## ⚙ 레벨 & 속도 (TGM 스타일)

- **5줄 클리어 → 레벨 +1**
- 레벨은 **상한 없이 무한 상승**
- 속도 테이블(SPEED_TABLE)을 기준으로 점진적 가속
- 테이블 최대치를 넘어가면 **최대 속도 유지**

예시 속도 테이블(일부):

| 레벨 | 속도(ms)       |
| ---- | -------------- |
| 1    | 800            |
| 5    | 430            |
| 10   | 230            |
| 15   | 120            |
| 20+  | 70 (최대 속도) |

실제 TGM과 1:1 동일한 값이 아니라,
**초반 학습 -> 중반 긴장감 -> 후반 폭발적인 속도** 흐름을 의도한 커스텀 곡선입니다.

---

## 🧩 주요 설정 포인트 (코드 상수)

게임 규칙 대부분은 아래 상수 몇 개를 바꾸는 것만으로 변경 가능합니다.

```bash

// 보드 크기
const COLS = 14;
const ROWS = 20;

// 이번 판에서 사용할 블록 종류 개수
const SHAPE_TYPE_COUNT = 10;

// 블록 한 변 길이 N (N x N)의 최소/최대
const MIN_SHAPE_SIZE = 3;
const MAX_SHAPE_SIZE = 4;

// 블록 하나 안에 채워지는 칸 수 최소/최대
const MIN_BLOCKS_PER_SHAPE = 3;
const MAX_BLOCKS_PER_SHAPE = 7;

```

---

## 📊 점수 구조

```bash

최종 점수 = 기본 점수 × 현재 레벨

```

기본 점수:

| 클리어 줄 수 | 기본 점수 |
| ------------ | --------- |
| 1줄          | 100       |
| 2줄          | 300       |
| 3줄          | 500       |
| 4줄          | 800       |

레벨이 올라갈수록 **동일한 라인 클리어도 더 높은 점수**를 주도록 설계되어 있습니다.

---

## 📦 설치 및 실행

```bash
# 1. 프로젝트 클론
git clone https://github.com/your-username/BlockDropGame-react.git
cd BlockDropGame-react

# 2. 패키지 설치
npm install

# 3. 개발 서버 실행
npm run dev
```

---
